<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strings</title>
</head>
<body>
    <style>
        textarea{
            width: 60%;
            font-size: 1.15em;
            display: block;
            height: 100px;
            margin-bottom: 20px;
        }
    </style>

    <h3><p>Enter your string</p></h3>
    <textarea id="userString"></textarea>
    <button id="btnString">Process String</button>
    <div id="output"></div>

    <script>
        const btnString = document.getElementById("btnString");
        btnString.onclick = (e) => {
            let out = "";
            let userString = document.getElementById('userString').value;

            let stringCount = userString.length;
            out += "<h2>String Information </h2>";
            out += "Characters: " + stringCount + "<br/>";

            out += "<h3>Character Position</h3>";
            let x = 0;
            while (x < stringCount){
                // string.charCodeAt: 取得該字串的 UniCode 碼
                out += x + ": " + userString.charAt(x) + " Unicode: " + userString.charCodeAt(x) + "<br/>";
                x++;
            }

            // Ends With
            if (userString.endsWith(".")){
                out += "<p>It does end with .</p>"
            }
            else{
                out += "<p>It does not end with .</p>";
            }

            // Character Position
            // 找目標字元在字串中第幾個位置
            // string.indexOf(target): 第一個出現 target 字元的索引值
            // string.lastIndexOf(target): 最後一個出現 target 字元的索引值
            out += "<p> The first 'e' is at position " + userString.indexOf('e') + ".";
            out += "<br>The last 'e' is at postion " + userString.lastIndexOf('e') + ".</p>";

            // Character Replacement
            // 將 userString 字串中所有大寫字母都換成 * 
            out += "<p>Replacements Made: <br/>" + userString.replace(/[A-Z]/g, "*");
            out += "</p>";
            
            // Split in to an array
            let family = "Eric Aurora Lily Bob Iris";
            let familyArray = family.split(' ');
            for (let x = 0; x < familyArray.length; x++){
                out += familyArray[x];
                out += " ";
            }
            document.getElementById('output').innerHTML = out;
        }

    </script>
</body>
</html>